(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{221:function(e,t,a){e.exports=a(595)},226:function(e,t,a){},439:function(e,t,a){},441:function(e,t,a){},595:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a.n(n),s=a(9),o=a.n(s),r=(a(226),a(38)),h=a(39),c=a(41),l=a(40),d=a(42),u=a(23),_=(a(228),a(135)),m=a(216),k=a(134),f=a.n(k),g=a(217),v=a.n(g),p=a(219),b=a.n(p),w=a(220),x=a.n(w),y=(a(439),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.loadFbLoginApi()}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"loadFbLoginApi",value:function(){window.fbAsyncInit=function(){window.FB.init({appId:0x70233c5718429,cookie:!0,xfbml:!0,version:"v3.2"})},console.log("Loading fb api"),function(e,t,a){var n,i=e.getElementsByTagName(t)[0];e.getElementById(a)||((n=e.createElement(t)).id=a,n.src="//connect.facebook.net/en_US/sdk.js",i.parentNode.insertBefore(n,i))}(document,"script","facebook-jssdk")}},{key:"displayFbDialogue",value:function(e){window.FB.ui({method:"share_open_graph",action_type:"og.likes",action_properties:JSON.stringify({object:{title:"Redsnow - Snowflake Maker",link:"http://redsnow.ca",description:"Come Create Your Own Unique Snowflake! Check us out at redsnow.ca",image:"http://hwlo.ca/images/projects/farmoo/farm.PNG"}}),hashtag:"#redsnow"},function(e){e&&!e.error_message?alert("Posting completed."):alert("Error while posting.")})}},{key:"testAPI",value:function(){console.log("Welcome!  Fetching your information.... "),window.FB.api("/me",function(e){console.log("Successful login for: "+e.name),document.getElementById("status").innerHTML="Thanks for logging in, "+e.name+"!"})}},{key:"render",value:function(){return""}}]),t}(n.Component)),S=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"dataURItoBlob",value:function(e){for(var t=atob(e.split(",")[1]),a=new ArrayBuffer(t.length),n=new Uint8Array(a),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return new Blob([a],{type:"image/png"})}},{key:"render",value:function(){return""}}]),t}(n.Component),C=(a(441),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={image:null},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.props.onRef(this),this.setupVariables(),this.setupCanvas(),this.setupSnowflake(),this.refresh()}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"regenerate",value:function(){this.setupSnowflake(),this.refresh()}},{key:"refresh",value:function(){this._context.scale(this._scale,this._scale),this.drawSnowflake(),this._context.setTransform(1,0,0,1,this._canvas.width/2,this._canvas.height/2),this._words.length>0&&this.drawWords(),this._getSavableData()}},{key:"_getSavableData",value:function(){document.getElementById("canvas-image").focus(),this.setState({image:this.getImageData()})}},{key:"getImageData",value:function(){return this._canvas.toDataURL("image/png;base64;")}},{key:"setupVariables",value:function(){this._canvas=document.getElementById("snowflake-canvas"),this._context=this._canvas.getContext("2d"),this._devicePixelRatio=1,this._maxD=this._canvas.height,this._sides=6,this._angle=2*Math.PI/this._sides,this._spark=50,this._color="#FFFFFF",this._maxStroke=50,this._words="",this._scale=1,this._sparkVar={r:0,n:0,y:0,yy:0,h:0},this._spark2Var={r:0,n:0,y:0,w:0,h:0},this._distance=0,this._sparkShort=0,this._index=0,this._spW=[],this._temp=0,this._strokes=[]}},{key:"setupCanvas",value:function(){this._canvas.width=480,this._canvas.height=480,this._context.translate(this._canvas.width/2,this._canvas.height/2),this._maxD=this._canvas.height-30,this._maxD/=5}},{key:"getStrokeWidth",value:function(e){return Math.random()*(e/20)+.4}},{key:"setStroke",value:function(e){this._maxStroke=e;for(var t=0;t<4;t++)this._strokes[t]=this.getStrokeWidth(this._maxStroke);this.refresh()}},{key:"setSides",value:function(e){this._sides=e,this._angle=2*Math.PI/this._sides,this.refresh()}},{key:"setWords",value:function(e){this._words=e,this.refresh()}},{key:"setColor",value:function(e){this._color=e,this.refresh()}},{key:"setScale",value:function(e){this._scale=e,this.refresh()}},{key:"setupSnowflake",value:function(){this._sparkVar.r=Math.random()*this._maxD+this._maxD,this._sparkVar.y=Math.random()*this._sparkVar.r,this._sparkVar.yy=Math.random()*this._sparkVar.r,this._sparkVar.h=Math.random()*this._spark,this._distance=this._sparkVar.yy-this._sparkVar.y,this._distance>0?this._distance=(this._sparkVar.yy-this._sparkVar.y)/this._sparkVar.n:(this._distance=(this._sparkVar.y-this._sparkVar.yy)/this._sparkVar.n,this._temp=this._sparkVar.y,this._sparkVar.y=this._sparkVar.yy,this._sparkVar.yy=this._temp);for(var e=0;e<this._sparkVar.n;e++)this._spW[e]=Math.random()*this._spark;this._spark2Var.r=Math.random()*this._sparkVar.r,this._spark2Var.y=Math.random()*this._spark2Var.r,this._spark2Var.w=Math.random()*this._spark,this._spark2Var.h=Math.random()*(2*this._spark)-this._spark,this._sparkShort=6*Math.random();for(var t=0;t<4;t++)this._strokes[t]=this.getStrokeWidth(this._maxStroke);this._context.lineCap="round",this._context.shadowBlur=50,this._context.shadowColor=this._color}},{key:"drawWords",value:function(){this._context.save(),this._context.shadowBlur=0,this._context.font="40px Courier",this._context.fillStyle=this._color,this._context.textAlign="center",this._context.fillText(this._words,0,this._canvas.height/3),this._context.restore()}},{key:"drawSnowflake",value:function(){this._context.scale(1,1),this._context.fillStyle="#336666",this._context.fillRect(-this._canvas.width/2,-this._canvas.height/2,this._canvas.width,this._canvas.height),this._context.beginPath(),this._context.moveTo(0,0),this._context.save(),this._context.shadowBlur=50,this._context.shadowColor="#FFFFFF";for(var e=0;e<this._sides;e++)this._context.moveTo(0,0),this._context.lineTo(0,this._r),this._context.rotate(this._angle);this._context.restore(),this._context.lineWidth=this._strokes[0],this._context.strokeStyle=this._color,this._context.stroke(),this._context.closePath(),this._context.save();for(var t=0;t<this._sides;t++)this._context.beginPath(),this._context.moveTo(0,0),this._context.lineTo(this._maxD,0),this._context.lineWidth=this._strokes[1],this._context.strokeStyle=this._color,this._context.stroke(),this._context.rotate(this._angle),this._context.closePath();this._context.restore();for(var a=0;a<this._sides;a++)this._context.save(),this.drawSegment(this._context,this._maxD/3,this._sparkVar.h),this.drawSegment(this._context,this._maxD/3,this._spark2Var.h),this.drawSegment(this._context,this._maxD/3,0),this._context.restore(),this._context.rotate(this._angle)}},{key:"drawSegment",value:function(e,t,a){e.beginPath(),e.moveTo(0,0),e.lineTo(t,0),e.stroke(),e.translate(t,0),a>0&&(this.drawBranch(e,a,1),this.drawBranch(e,a,-1))}},{key:"drawBranch",value:function(e,t,a){e.save(),e.rotate(a*Math.PI/3),e.moveTo(0,0),e.lineTo(t,0),e.stroke(),e.restore()}},{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("canvas",{id:"snowflake-canvas"}),i.a.createElement("img",{id:"canvas-image",src:this.state.image}))}}]),t}(n.Component)),E=Object(_.a)(_.b);var O=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleRegenerateClick=function(e){a.snowflake.regenerate()},a.handleFacebookClick=function(e){a.shareToFB()},a.handleColorChange=function(e,t){a.snowflake.setColor(e.hex)},a.handleTextChange=function(e){a.snowflake.setWords(e.target.value.toString())},a.handleSidesSlider=function(e){a.snowflake.setSides(e)},a.handleStrokeSlider=function(e){a.snowflake.setStroke(e)},a.handleScaleChange=function(e){a.snowflake.setScale(e)},a.handleColorChange=a.handleColorChange.bind(Object(u.a)(Object(u.a)(a))),a.handleRegenerateClick=a.handleRegenerateClick.bind(Object(u.a)(Object(u.a)(a))),a.handleFacebookClick=a.handleFacebookClick.bind(Object(u.a)(Object(u.a)(a))),a.handleSidesSlider=a.handleSidesSlider.bind(Object(u.a)(Object(u.a)(a))),a.handleStrokeSlider=a.handleStrokeSlider.bind(Object(u.a)(Object(u.a)(a))),a.handleTextChange=a.handleTextChange.bind(Object(u.a)(Object(u.a)(a))),a.handleScaleChange=a.handleScaleChange.bind(Object(u.a)(Object(u.a)(a))),a.state={sides:6},a}return Object(d.a)(t,e),Object(h.a)(t,[{key:"shareToFB",value:function(){this._imageData=this.snowflake.getImageData(),this._imageBlob=this.dataservice.dataURItoBlob(this._imageData),console.log(this._imageBlob)}},{key:"render",value:function(){var e=this;return i.a.createElement(i.a.Fragment,null,i.a.createElement(v.a,null),i.a.createElement(y,{onRef:function(t){return e.socialservice=t}}),i.a.createElement(S,{onRef:function(t){return e.dataservice=t}}),i.a.createElement(b.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"center"},i.a.createElement("div",{id:"header"},"Redsnow - Snowflake Maker"),i.a.createElement("div",{id:"sub-header"},i.a.createElement("em",null,"You can right click to save the image.")),i.a.createElement(C,{onRef:function(t){return e.snowflake=t}}),i.a.createElement("div",{id:"modifierContainer"},i.a.createElement("div",{className:"modifier"},i.a.createElement("label",null,"COMPEXITY :"),i.a.createElement(E,{min:1,max:12,defaultValue:6,onChange:this.handleSidesSlider})),i.a.createElement("div",{className:"modifier"},i.a.createElement("label",null,"STROKE WIDTH :"),i.a.createElement(E,{min:1,max:100,defaultValue:50,onChange:this.handleStrokeSlider})),i.a.createElement("div",{className:"modifier"},i.a.createElement("label",null,"COLOR :"),i.a.createElement(m.CirclePicker,{width:"100%",onChange:this.handleColorChange})),i.a.createElement("div",{className:"modifier"},i.a.createElement("label",null,"SCALE :"),i.a.createElement(E,{min:1,max:3,defaultValue:1,onChange:this.handleScaleChange}))),i.a.createElement("div",{id:"textfieldContainer"},i.a.createElement(x.a,{name:"words",helperText:"Describe your snowflake here...",fullWidth:!0,variant:"outlined",onChange:this.handleTextChange})),i.a.createElement("div",{id:"button-container"},i.a.createElement(f.a,{color:"secondary",onClick:this.handleRegenerateClick},"GENERATE AGAIN"),i.a.createElement(f.a,{color:"primary",onClick:this.handleFacebookClick},"FACEBOOK"))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[221,2,1]]]);
//# sourceMappingURL=main.c0ed3372.chunk.js.map